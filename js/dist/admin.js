(()=>{var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var r in a)e.o(a,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:a[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};(()=>{"use strict";const t=flarum.core.compat.app;var a=e.n(t),r="alexanderomara-gravatar";function n(e){return Array.prototype.indexOf.call((this.ownerDocument||this.document).querySelectorAll(e),this)>-1}function o(e,t){return(e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||n).call(e,t)}function l(){return a().data[r]}var c=/^[^/]*\/\/[^/]*gravatar\.com\/avatar\//,i="https://gravatar.com/",u="Gravatar",s="fa-external-link-alt";function d(e){var t=e.target;o(t,".AvatarEditor .item-gravatar *")?l().linkNewTab?window.open(i,"_blank"):location.href=i:(o(t,".AvatarEditor .Dropdown-toggle")||o(t,".AvatarEditor .Dropdown-toggle *"))&&function(){for(var e,t,a=l().disableLocal,r=document.querySelectorAll(".AvatarEditor"),n=r.length;n--;){var o=r[n],i=o.querySelector(".Avatar"),d=o.querySelector(".item-upload"),m=o.querySelector(".item-remove"),v=i&&c.test(i.src);if(d&&!o.querySelector(".item-gravatar")){var f=(e=d,t=void 0,(t=document.createElement("div")).innerHTML=e.outerHTML,t.firstChild);f.className=f.className.replace("item-upload","item-gravatar");var p=f.querySelector("button");if(p){p.setAttribute("title",u);var g=p.querySelector(".Button-label");g&&(g.textContent=u);var y=p.querySelector(".Button-icon");y.className=y.className.replace(/(^|\s)fa-\S+(\s|$)/,"$1"+s+"$2"),y.className.indexOf(s)<0&&(y.className+=" "+s)}d.parentElement.appendChild(f)}m&&(m.style.display=v?"none":""),d&&(d.style.display=a?"none":"")}}()}var v=function(e,t){return void 0===t&&(t=null),m("span",null,[e].concat(t?[" ("].concat((a=t.map((function(e){return m("code",null,e)})),a.reduce((function(e,t){return e?[].concat(e,[", ",t]):t}),null)),[")"]):[]));var a};a().initializers.add(r,(function(e){window.addEventListener("click",d,!0);var t=e.extensionData.for(r),a=function(e,a,n){void 0===n&&(n=null),t.registerSetting((function(){return m("div",{className:"Form-group"},m("label",null,v(a,n)),m("code",null,m("input",{type:"text",className:"FormControl",bidi:this.setting(r+"."+e)})))}))},n=function(e,a,n){void 0===n&&(n=null),t.registerSetting({setting:r+"."+e,label:v(a,n),type:"boolean"})};a("default","Default",["mp","identicon","retro","[URL]","..."]),n("default_force","Force Default Gravatar Icons"),a("rating","Rating",["g","pg","r","x"]),n("disable_local","Disable Local Avatars"),n("link_new_tab","Gravatar Link New Tab")}))})(),module.exports={}})();
//# sourceMappingURL=admin.js.map